# # keyboards.py
# from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton
# from database import get_user_bots_count, get_user_bots, get_bot_channels, get_user_bots_for_keyboard

# async def get_main_user_keyboard(user_id: int):
#     """–ì–ª–∞–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
#     # –î–ï–ë–ê–ì
#     bots_count = await get_user_bots_count(user_id)
#     print(f"DEBUG get_main_user_keyboard: User {user_id} has {bots_count} bots")
    
#     buttons = [
#         [InlineKeyboardButton(text="ü§ñ –î–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞", callback_data="add_bot")],
#     ]
    
#     if bots_count > 0:
#         print(f"DEBUG: Adding delete and configure buttons for user {user_id}")
#         buttons.append([InlineKeyboardButton(text="‚ùå –£–¥–∞–ª–∏—Ç—å –±–æ—Ç–∞", callback_data="delete_bot")])
#         buttons.append([InlineKeyboardButton(text="‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–æ–≤", callback_data="configure_bots")])
    
#     buttons.append([InlineKeyboardButton(text="üí∞ –ö—É–ø–∏—Ç—å –±–æ—Ç–æ–≤", callback_data="buy_bots")])
    
#     return InlineKeyboardMarkup(inline_keyboard=buttons)

# def get_check_subs_keyboard():
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫"""
#     return InlineKeyboardMarkup(
#         inline_keyboard=[[
#             InlineKeyboardButton(text="üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏", callback_data="check_subs")
#         ]]
#     )

# def get_channel_subscribe_keyboard(not_subscribed_channels):
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã"""
#     keyboard = []
#     for channel_link, description in not_subscribed_channels:
#         channel_clean = channel_link.lstrip('@')
#         keyboard.append([
#             InlineKeyboardButton(
#                 text=f"üì¢ –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ {description}",
#                 url=f"https://t.me/{channel_clean}"
#             )
#         ])
    
#     keyboard.append([
#         InlineKeyboardButton(text="üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–Ω–æ–≤–∞", callback_data="check_subs")
#     ])
    
#     return InlineKeyboardMarkup(inline_keyboard=keyboard)

# async def get_bots_list_keyboard(user_id: int):
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –±–æ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
#     # –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä
#     bots = await get_user_bots_for_keyboard(user_id)
    
#     keyboard = []
#     for bot_data in bots:
#         bot_id, bot_username, bot_name, is_active = bot_data
        
#         # –ü–æ–ª—É—á–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ –±–æ—Ç–∞
#         channels = await get_bot_channels(bot_id, user_id, only_active=True)
#         active_channels_count = len(channels)
        
#         status = "üü¢" if is_active else "üî¥"
#         button_text = f"{status} {bot_name} (@{bot_username}) - {active_channels_count} –∫–∞–Ω–∞–ª–æ–≤"
#         keyboard.append([
#             InlineKeyboardButton(text=button_text, callback_data=f"bot_{bot_id}")
#         ])
    
#     keyboard.append([InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥", callback_data="back_to_main")])
#     return InlineKeyboardMarkup(inline_keyboard=keyboard)

# async def get_delete_bots_list_keyboard(user_id: int):
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –±–æ—Ç–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏"""
#     # –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä
#     bots = await get_user_bots_for_keyboard(user_id)
    
#     keyboard = []
#     for bot_data in bots:
#         bot_id, bot_username, bot_name, is_active = bot_data
        
#         status = "üü¢" if is_active else "üî¥"
#         button_text = f"{status} {bot_name} (@{bot_username})"
#         keyboard.append([
#             InlineKeyboardButton(text=button_text, callback_data=f"manage_bot_{bot_id}")
#         ])
    
#     keyboard.append([InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥", callback_data="back_to_main")])
#     return InlineKeyboardMarkup(inline_keyboard=keyboard)

# def get_bot_management_keyboard(bot_id: int):
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º —Å –Ω–æ–≤—ã–º–∏ –æ–ø—Ü–∏—è–º–∏"""
#     return InlineKeyboardMarkup(inline_keyboard=[
#         [
#             InlineKeyboardButton(text="‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª", callback_data=f"add_channel_{bot_id}"),
#             InlineKeyboardButton(text="üìã –°–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤", callback_data=f"list_channels_{bot_id}")
#         ],
#         [
#             InlineKeyboardButton(text="üìù –°–æ–æ–±—â–µ–Ω–∏–µ", callback_data=f"edit_message_{bot_id}"),
#             InlineKeyboardButton(text="üîò –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∞–π–ª—ã", callback_data=f"edit_button_{bot_id}")
#         ],
#         [
#             InlineKeyboardButton(text="üìé –§–∞–π–ª", callback_data=f"edit_file_{bot_id}")
#         ],
#         [
#             InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É", callback_data="configure_bots")
#         ]
#     ])

# def get_delete_bot_keyboard(bot_id: int):
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —É–¥–∞–ª–µ–Ω–∏—è –±–æ—Ç–∞"""
#     return InlineKeyboardMarkup(inline_keyboard=[
#         [
#             InlineKeyboardButton(text="‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞", callback_data=f"stop_bot_{bot_id}"),
#             InlineKeyboardButton(text="‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞", callback_data=f"start_bot_{bot_id}")
#         ],
#         [
#             InlineKeyboardButton(text="üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞", callback_data=f"confirm_delete_{bot_id}")
#         ],
#         [
#             InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥", callback_data="back_to_main")
#         ]
#     ])

# def get_buy_bots_keyboard():
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ø–æ–∫—É–ø–∫–∏ –±–æ—Ç–æ–≤"""
#     return InlineKeyboardMarkup(inline_keyboard=[
#         [
#             InlineKeyboardButton(text="1 –±–æ—Ç - 150‚ÇΩ", callback_data="buy_1")
#         ],
#         [
#             InlineKeyboardButton(text="5 –±–æ—Ç–æ–≤ - 500‚ÇΩ", callback_data="buy_5")
#         ],
#         [
#             InlineKeyboardButton(text="10 –±–æ—Ç–æ–≤ - 700‚ÇΩ", callback_data="buy_10")
#         ],
#         [
#             InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥", callback_data="back_to_main")
#         ]
#     ])

# def get_back_keyboard():
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞–∑–∞–¥"""
#     return InlineKeyboardMarkup(inline_keyboard=[
#         [InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥", callback_data="back_to_main")]
#     ])

# def get_back_to_bot_keyboard(bot_id: int):
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞–∑–∞–¥ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –±–æ—Ç–∞"""
#     return InlineKeyboardMarkup(inline_keyboard=[
#         [InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥ –∫ –±–æ—Ç—É", callback_data=f"bot_{bot_id}")]
#     ])

# async def get_channels_list_keyboard(bot_id: int, user_id: int):
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–∞–Ω–∞–ª–æ–≤ –±–æ—Ç–∞"""
#     channels = await get_bot_channels(bot_id, user_id)
    
#     keyboard = []
#     for channel_id, channel_link, description, is_active in channels:
#         status = "üü¢" if is_active else "üî¥"
#         button_text = f"{status} {description}"
#         keyboard.append([
#             InlineKeyboardButton(text=button_text, callback_data=f"channel_{channel_id}")
#         ])
    
#     keyboard.append([InlineKeyboardButton(text="‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª", callback_data=f"add_channel_{bot_id}")])
#     keyboard.append([InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥ –∫ –±–æ—Ç—É", callback_data=f"bot_{bot_id}")])
    
#     return InlineKeyboardMarkup(inline_keyboard=keyboard)

# def get_channel_management_keyboard(channel_id: int, bot_id: int, is_active: bool):
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–æ–º"""
#     status_text = "‚è∏Ô∏è –°–¥–µ–ª–∞—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º" if is_active else "‚ñ∂Ô∏è –°–¥–µ–ª–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º"
#     status_callback = f"deactivate_channel_{channel_id}" if is_active else f"activate_channel_{channel_id}"
    
#     return InlineKeyboardMarkup(inline_keyboard=[
#         [
#             InlineKeyboardButton(text="‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ", callback_data=f"edit_channel_desc_{channel_id}")
#         ],
#         [
#             InlineKeyboardButton(text=status_text, callback_data=status_callback)
#         ],
#         [
#             InlineKeyboardButton(text="üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª", callback_data=f"delete_channel_{channel_id}")
#         ],
#         [
#             InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥ –∫ –∫–∞–Ω–∞–ª–∞–º", callback_data=f"list_channels_{bot_id}")
#         ]
#     ])

# def get_back_to_channels_keyboard(bot_id: int):
#     """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É –∫–∞–Ω–∞–ª–æ–≤"""
#     return InlineKeyboardMarkup(inline_keyboard=[
#         [InlineKeyboardButton(text="üîô –ù–∞–∑–∞–¥ –∫ –∫–∞–Ω–∞–ª–∞–º", callback_data=f"list_channels_{bot_id}")]
#     ])
